/* PT EMR Simulator - Button System (extracted)
   - Base button styles and variants
   - Sizes and icon button
   - Neutral/danger-hover and remove-btn
*/

/* Base */
.btn {
  border: var(--bw-1, 1px) solid var(--color-border);
  background: var(--btn-bg);
  color: var(--text);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition:
    background 0.2s ease,
    border-color 0.2s ease,
    box-shadow 0.2s ease,
    transform 0.2s ease,
    color 0.2s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  font-size: clamp(var(--font-md, 0.875rem), 0.85rem + 0.2vw, var(--font-base, 1rem));
  font-weight: 500;
  text-decoration: none;
  min-height: 44px;
  min-width: 44px;
  position: relative;
  appearance: none;
  line-height: 1.4;
}
.btn:hover {
  background: var(--btn-hover);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}
.btn:focus {
  outline: 2px solid var(--und-green);
  outline-offset: 2px;
}
.btn:focus-visible {
  outline: 2px solid var(--und-green);
  outline-offset: 2px;
}
.btn:active {
  transform: translateY(0);
}
.btn:disabled,
.btn[disabled] {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}
.btn:disabled:hover,
.btn[disabled]:hover {
  background: var(--btn-bg);
  transform: none;
  box-shadow: none;
}

/* Variants */
.btn.primary {
  /* Scalable white ring for contrast */
  border: var(--ring-thin, 0.1em) solid var(--color-bg, var(--white));
  background: var(--und-green);
  color: var(--color-bg, var(--white));
  font-weight: 600;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.22);
}
/* Theme-specific tweaks so the white ring reads on light theme too */
/* (Light theme primary shadow handled by shared light overrides later; removed duplicate) */
html[data-theme='dark'] .btn.primary {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.45);
}
.btn.primary:hover {
  background: var(--und-green-dark);
  border-color: var(--color-bg, var(--white)); /* keep white ring */
  box-shadow: var(--elev-3, 0 3px 6px rgba(0, 0, 0, 0.32));
}
html:not([data-theme='dark']) .btn.primary:hover {
  box-shadow:
    0 0 0 1px rgba(0, 0, 0, 0.1),
    0 4px 6px rgba(0, 0, 0, 0.28);
}
html[data-theme='dark'] .btn.primary:hover {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.55);
}
.btn.secondary {
  background: var(--btn-bg);
  border-color: var(--und-green);
  color: var(--text);
}
.btn.secondary:hover {
  background: var(--und-green-dark);
  border-color: var(--und-green-dark);
  color: var(--color-bg, var(--white));
  transform: translateY(-1px);
}
.btn.success {
  background: var(--accent);
  border-color: var(--accent);
  color: var(--white);
  font-weight: 600;
}
.btn.success:hover {
  background: var(--accent-dark);
  border-color: var(--accent-dark);
  transform: translateY(-1px);
}
.btn.neutral {
  background: var(--color-bg, var(--white));
  border-color: var(--color-border);
  color: var(--text);
  font-weight: 600;
}
.btn.neutral:hover {
  background: var(--neutral-100);
  border-color: var(--color-border-strong);
  color: var(--text);
}
.btn.outline {
  background: transparent;
  border-color: var(--und-green);
  color: var(--und-green);
  font-weight: 600;
}
.btn.outline:hover {
  background: var(--und-green-light);
  border-color: var(--und-green-dark);
  color: var(--und-green-dark);
}

/* Orange variant (UND orange) for Feedback button - uses theme-specific overrides below */

/* Subtle red (outline) variant for destructive actions */
/* Rest: very light red border, white fill; Hover: soft red fill + darker red border/text */
.btn.subtle-danger {
  background: var(--white);
  border-color: var(--danger-50);
  color: var(--danger-600);
  font-weight: 600;
}
.btn.subtle-danger:hover {
  background: var(--danger-100);
  border-color: var(--danger-200);
  color: var(--danger-700);
  transform: none;
  box-shadow: none;
}

/* Inline SVGs follow text color */
.btn:not(.icon-btn) svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

/* Neutral delete hover */
.btn.neutral.danger-hover:hover {
  color: var(--danger-dark);
}
.btn.neutral.danger-hover:hover svg {
  fill: var(--danger-dark);
}

/* Sizes */
.btn.small {
  font-size: clamp(
    var(--font-xs, 0.75rem),
    0.72rem + 0.15vw,
    var(--font-md, 0.875rem)
  ); /* 12→14px */
  padding: var(--space-1) 10px;
}
.btn.large {
  font-size: clamp(var(--font-base, 1rem), 0.98rem + 0.2vw, var(--font-lg, 1.125rem)); /* 16→18px */
  padding: var(--space-3) var(--space-5);
}

/* Icon Button */
.btn.icon-btn {
  width: 36px;
  height: 36px;
  padding: var(--space-1);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
}
.btn.icon-btn svg {
  width: 20px;
  height: 20px;
  fill: var(--icon-color);
  opacity: var(--icon-opacity);
  transition: opacity 0.2s ease;
}
.btn.icon-btn:hover {
  background: var(--btn-hover);
  border-color: var(--accent);
}
.btn.icon-btn:hover svg {
  opacity: 1;
  fill: var(--accent);
}
.btn.icon-btn.danger-hover:hover {
  background: var(--neutral-100);
  border-color: var(--color-border-strong);
}
.btn.icon-btn.danger-hover:hover svg {
  fill: var(--danger-dark);
  opacity: 1;
}

/* Compact add (+) button used in Billing tables */
.compact-add-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px; /* ~50% smaller */
  height: 24px; /* ~50% smaller */
  margin: 8px auto var(--space-4); /* center horizontally + add space below */
  border-radius: 9999px;
  border: 1px solid var(--und-green);
  background: var(--und-green); /* match primary button fill */
  color: var(--white); /* white plus icon/text */
  font-size: 0.875rem; /* 14px, scale + symbol */
  font-weight: 700;
  line-height: 1;
  cursor: pointer;
  transition:
    background 0.2s ease,
    transform 0.2s ease,
    box-shadow 0.2s ease;
}
.compact-add-btn:hover {
  background: var(--und-green-dark);
  border-color: var(--und-green-dark);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}
.compact-add-btn:active {
  transform: translateY(0);
  box-shadow: none;
}
.compact-add-btn:focus {
  outline: 2px solid var(--und-green);
  outline-offset: 2px;
}

/* Responsive button adjustments (migrated from styles.css) */
@media (max-width: 1024px) {
  .btn {
    min-height: 48px;
    padding: var(--space-3) var(--space-4);
  }
}

@media (max-width: 768px) {
  .btn {
    min-height: 48px;
    font-size: 1rem;
    padding: var(--space-3) var(--space-4);
  }
}

/* Remove (billing-style) */
.remove-btn {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  border: var(--bw-1, 1px) solid var(--danger-50);
  background: var(--color-bg, var(--white));
  color: var(--danger-600);
  font-size: 0.875rem; /* 14px */
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s ease;
}
.remove-btn:hover {
  background: var(--danger-100);
  border-color: var(--danger-200);
  color: var(--danger-700);
}

/* Legacy shims for backward compatibility */
.btn.btn-primary {
  background: var(--und-green);
  border-color: var(--und-green);
  color: var(--color-bg, var(--white));
}
.btn.btn-primary:hover {
  background: var(--und-green-dark);
  border-color: var(--und-green-dark);
}

.btn.btn-secondary {
  background: var(--color-bg, #fff);
  border-color: var(--color-border);
  color: var(--text);
}
.btn.btn-secondary:hover {
  background: var(--neutral-50);
  border-color: var(--und-green);
}
.btn.btn-danger {
  background: var(--danger);
  border-color: var(--danger);
  color: var(--white);
}
.btn.btn-danger:hover {
  background: var(--danger-dark);
  border-color: var(--danger-dark);
}
.btn-icon {
  width: 32px;
  height: 32px;
  padding: 4px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
}
.btn-icon svg {
  width: 18px;
  height: 18px;
}

/* Light theme overrides */
html:not([data-theme='dark']) .btn {
  border-color: var(--color-border);
  background: var(--white);
  color: var(--neutral-700);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}
html:not([data-theme='dark']) .btn:hover {
  background: var(--neutral-50);
  border-color: var(--color-border-strong);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
html:not([data-theme='dark']) .btn.primary {
  background: var(--und-green);
  border: var(--ring-thin, 0.1em) solid var(--white);
  color: var(--white);
}
html:not([data-theme='dark']) .btn.primary:hover {
  background: var(--und-green-dark);
  border-color: var(--white); /* keep white ring on hover */
}
html:not([data-theme='dark']) .btn.secondary {
  background: var(--white);
  border-color: var(--und-green);
  color: var(--text);
}
html:not([data-theme='dark']) .btn.secondary:hover {
  background: var(--und-green-dark);
  border-color: var(--und-green-dark);
  color: var(--color-bg, var(--white));
}
/* Orange button light theme override - ensure consistent styling */
html:not([data-theme='dark']) .btn.orange {
  background: var(--neutral-800);
  border-color: var(--und-orange);
  color: var(--white);
  font-weight: 500;
}
html:not([data-theme='dark']) .btn.orange:hover {
  background: var(--und-orange);
  border-color: var(--und-orange);
  color: var(--white);
  font-weight: 600;
}
/* subtle-danger styling handled by base definition - no theme override needed */

/* Orange button: consistent styling across all themes using proper cascade */
.btn.orange {
  background: var(--neutral-800); /* Darker UND gray spectrum */
  border-color: var(--und-orange);
  color: var(--color-bg, var(--white)); /* white text */
  font-weight: 500;
}

.btn.orange:hover {
  background: var(--und-orange);
  border-color: var(--und-orange);
  color: var(--color-bg, var(--white)); /* white text on orange background */
  font-weight: 600;
}

/* Feedback Buttons: use dark-style secondary appearance in all themes */
#feedbackBtn.btn.secondary,
#siteMenuFeedback.btn.secondary {
  background: var(--neutral-800);
  border-color: var(--und-green);
  color: var(--color-bg, var(--white));
}

#feedbackBtn.btn.secondary:hover,
#siteMenuFeedback.btn.secondary:hover {
  background: var(--und-green-dark);
  border-color: var(--und-green-dark);
  color: var(--color-bg, var(--white));
}
